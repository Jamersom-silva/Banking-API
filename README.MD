# ğŸ¦ Banking API - Sistema BancÃ¡rio Fake

[![Node.js](https://img.shields.io/badge/Node.js-20+-green)](https://nodejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue)](https://www.typescriptlang.org/)
[![Express](https://img.shields.io/badge/Express-4.x-lightgrey)](https://expressjs.com/)
[![Prisma](https://img.shields.io/badge/Prisma-5.x-black)](https://www.prisma.io/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

API bancÃ¡ria completa para simular operaÃ§Ãµes bancÃ¡rias com foco em **seguranÃ§a, boas prÃ¡ticas e documentaÃ§Ã£o**. Ideal para estudos, portfÃ³lio ou como base para projetos financeiros.

## âœ¨ Funcionalidades

### ğŸ” AutenticaÃ§Ã£o & SeguranÃ§a
- âœ… Registro de usuÃ¡rios com validaÃ§Ã£o robusta (Zod)
- âœ… Login com JWT + Refresh tokens
- âœ… Blacklist de tokens invÃ¡lidos
- âœ… Rate limiting em endpoints sensÃ­veis
- âœ… Hash de senhas com bcrypt
- âœ… Middleware de autenticaÃ§Ã£o JWT

### ğŸ¦ OperaÃ§Ãµes BancÃ¡rias
- âœ… CriaÃ§Ã£o de contas (Corrente, PoupanÃ§a, SalÃ¡rio)
- âœ… DepÃ³sitos e Saques com validaÃ§Ã£o de saldo
- âœ… TransferÃªncias entre contas
- âœ… Extrato bancÃ¡rio com paginaÃ§Ã£o
- âœ… Consulta de saldo e detalhes da conta
- âœ… Listagem de todas as contas do usuÃ¡rio

### ğŸ›¡ï¸ SeguranÃ§a & ValidaÃ§Ã£o
- âœ… ValidaÃ§Ã£o de input com Zod schemas
- âœ… Tratamento centralizado de erros
- âœ… TransaÃ§Ãµes atÃ´micas no banco de dados
- âœ… VerificaÃ§Ã£o de propriedade de recursos
- âœ… Headers de seguranÃ§a (Helmet.js)
- âœ… CORS configurado

### ğŸ“š DocumentaÃ§Ã£o & Qualidade
- âœ… DocumentaÃ§Ã£o Swagger/OpenAPI interativa
- âœ… Testes automatizados com Jest
- âœ… TypeScript com tipagem estrita
- âœ… ESLint + Prettier configurados
- âœ… Health checks e monitoramento

## ğŸš€ ComeÃ§ando

### PrÃ©-requisitos
- Node.js 18 ou superior
- npm ou yarn
- SQLite (para desenvolvimento)
- Git

### InstalaÃ§Ã£o

1. **Clone o repositÃ³rio**
```bash
git clone https://github.com/seu-usuario/banking-api.git
cd banking-api
Instale as dependÃªncias

bash
npm install
Configure as variÃ¡veis de ambiente

bash
cp .env.example .env
# Edite o arquivo .env com suas configuraÃ§Ãµes
Execute as migrations do banco de dados

bash
npx prisma migrate dev --name init
Popule o banco com dados de exemplo (opcional)

bash
npm run prisma:seed
Inicie o servidor

bash
# Desenvolvimento (hot reload)
npm run dev

# ProduÃ§Ã£o
npm run build
npm start
ğŸ“¡ Endpoints da API
ğŸ‘¤ AutenticaÃ§Ã£o
MÃ©todo	Endpoint	DescriÃ§Ã£o	AutenticaÃ§Ã£o
POST	/api/v1/auth/register	Registrar novo usuÃ¡rio	âŒ
POST	/api/v1/auth/login	Fazer login	âŒ
POST	/api/v1/auth/refresh	Renovar tokens	âŒ
POST	/api/v1/auth/logout	Sair do sistema	âœ…
ğŸ¦ Contas BancÃ¡rias
MÃ©todo	Endpoint	DescriÃ§Ã£o	AutenticaÃ§Ã£o
POST	/api/v1/accounts	Criar nova conta	âœ…
GET	/api/v1/accounts	Listar contas do usuÃ¡rio	âœ…
GET	/api/v1/accounts/:id	Detalhes da conta	âœ…
ğŸ’¸ OperaÃ§Ãµes
MÃ©todo	Endpoint	DescriÃ§Ã£o	AutenticaÃ§Ã£o
POST	/api/v1/accounts/:id/deposit	Realizar depÃ³sito	âœ…
POST	/api/v1/accounts/:id/withdraw	Realizar saque	âœ…
POST	/api/v1/accounts/:id/transfer	Transferir para outra conta	âœ…
ğŸ“Š Extrato
MÃ©todo	Endpoint	DescriÃ§Ã£o	AutenticaÃ§Ã£o
GET	/api/v1/accounts/:id/statement	Obter extrato com paginaÃ§Ã£o	âœ…
ğŸ©º SaÃºde
MÃ©todo	Endpoint	DescriÃ§Ã£o	AutenticaÃ§Ã£o
GET	/api/v1/health	Health check do sistema	âŒ
GET	/api/v1/health/version	VersÃ£o da API	âŒ
ğŸ“š DocumentaÃ§Ã£o Interativa
Acesse a documentaÃ§Ã£o Swagger UI em:
http://localhost:3000/api/v1/docs

https://img.shields.io/badge/Documenta%C3%A7%C3%A3o-Interativa-brightgreen

ğŸ§ª Testes
bash
# Executar todos os testes
npm test

# Testes com cobertura
npm run test:coverage

# Testes de integraÃ§Ã£o
npm run test:integration

# Testes unitÃ¡rios
npm run test:unit

# Modo watch (desenvolvimento)
npm run test:watch
Estrutura de Testes
text
tests/
â”œâ”€â”€ integration/     # Testes de endpoints da API
â”œâ”€â”€ unit/           # Testes de serviÃ§os e utilitÃ¡rios
â””â”€â”€ setup.ts        # ConfiguraÃ§Ã£o comum
ğŸ› ï¸ Scripts DisponÃ­veis
bash
# Desenvolvimento
npm run dev          # Inicia servidor com hot reload

# Build
npm run build        # Compila TypeScript
npm start            # Inicia produÃ§Ã£o

# Banco de Dados
npx prisma studio    # Interface grÃ¡fica do banco
npx prisma migrate   # Executa migrations
npm run prisma:seed  # Popula dados de exemplo

# Qualidade de CÃ³digo
npm run lint         # Verifica estilo de cÃ³digo
npm run lint:fix     # Corrige problemas de estilo
npm run format       # Formata cÃ³digo com Prettier

# Testes
npm test             # Executa todos os testes
npm run test:watch   # Executa testes em modo watch
ğŸ—ï¸ Estrutura do Projeto
text
banking-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/          # ConfiguraÃ§Ãµes (env, database)
â”‚   â”œâ”€â”€ controllers/     # Controladores da API
â”‚   â”œâ”€â”€ services/        # LÃ³gica de negÃ³cio
â”‚   â”œâ”€â”€ middlewares/     # Auth, validation, error handling
â”‚   â”œâ”€â”€ routes/         # DefiniÃ§Ã£o de rotas
â”‚   â”œâ”€â”€ schemas/        # ValidaÃ§Ã£o Zod
â”‚   â”œâ”€â”€ utils/          # Helpers e utilitÃ¡rios
â”‚   â”œâ”€â”€ types/          # Tipos TypeScript
â”‚   â””â”€â”€ index.ts        # Ponto de entrada
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma   # Schema do banco de dados
â”‚   â””â”€â”€ migrations/     # Migrations do Prisma
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ integration/    # Testes de integraÃ§Ã£o
â”‚   â”œâ”€â”€ unit/          # Testes unitÃ¡rios
â”‚   â””â”€â”€ setup.ts       # ConfiguraÃ§Ã£o de testes
â”œâ”€â”€ docs/              # DocumentaÃ§Ã£o adicional
â””â”€â”€ scripts/           # Scripts auxiliares
ğŸ”§ Tecnologias Utilizadas
Runtime: Node.js

Language: TypeScript

Framework: Express.js

ORM: Prisma

Database: SQLite (dev) / PostgreSQL (prod)

Validation: Zod

Authentication: JWT, bcrypt

Testing: Jest, Supertest

Documentation: Swagger/OpenAPI

Code Quality: ESLint, Prettier

Security: Helmet, express-rate-limit

ğŸ” SeguranÃ§a Implementada
ValidaÃ§Ã£o de input com Zod schemas

Hash de senhas com bcrypt (12 rounds)

Tokens JWT com expiraÃ§Ã£o (15m access, 7d refresh)

Refresh tokens com blacklist

Rate limiting em endpoints de login

Headers de seguranÃ§a com Helmet.js

CORS configurado

TransaÃ§Ãµes atÃ´micas no banco de dados

VerificaÃ§Ã£o de propriedade de recursos

Logging estruturado de atividades sensÃ­veis

ğŸ“Š Exemplos de Uso
1. Registrar UsuÃ¡rio
bash
curl -X POST http://localhost:3000/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "name": "JoÃ£o Silva",
    "email": "joao@email.com",
    "cpf": "123.456.789-00",
    "password": "Senha@123",
    "birthDate": "1990-01-01"
  }'
2. Fazer Login
bash
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "joao@email.com",
    "password": "Senha@123"
  }'
3. Criar Conta BancÃ¡ria
bash
curl -X POST http://localhost:3000/api/v1/accounts \
  -H "Authorization: Bearer <access_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "type": "CHECKING",
    "initialBalance": 1000.00
  }'
4. Realizar TransferÃªncia
bash
curl -X POST http://localhost:3000/api/v1/accounts/1/transfer \
  -H "Authorization: Bearer <access_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "toAccountId": "550e8400-e29b-41d4-a716-446655440000",
    "amount": 150.50,
    "description": "Pagamento de serviÃ§os"
  }'
ğŸš¢ Deploy
OpÃ§Ãµes Recomendadas:
Render (Mais fÃ¡cil) - Guia de Deploy

Railway (Com PostgreSQL incluÃ­do) - Guia de Deploy

Heroku (Tradicional) - Guia de Deploy

VariÃ¡veis de Ambiente para ProduÃ§Ã£o:
env
NODE_ENV=production
PORT=3000
DATABASE_URL="postgresql://user:password@localhost:5432/banking"
JWT_SECRET=seu_super_segredo_minimo_32_caracteres
JWT_REFRESH_SECRET=outro_super_segredo_minimo_32_caracteres
ğŸ¤ Contribuindo
Fork o projeto

Crie uma branch para sua feature (git checkout -b feature/AmazingFeature)

Commit suas mudanÃ§as (git commit -m 'Add some AmazingFeature')

Push para a branch (git push origin feature/AmazingFeature)

Abra um Pull Request

ğŸ“„ LicenÃ§a
Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo LICENSE para mais detalhes.

ğŸ‘¥ Autores
Seu Nome - @seu-usuario

ğŸ™ Agradecimentos
Prisma - ORM incrÃ­vel

Zod - ValidaÃ§Ã£o de schemas

Express - Framework web minimalista

TypeScript - JavaScript com tipagem




## ğŸ“ **Arquivos adicionais que vocÃª pode criar:**

### **LICENSE** (MIT License):


MIT License

Copyright (c) 2025 jAMERSOM SILVA

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.